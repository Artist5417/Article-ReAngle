# Article ReAngle - æ™ºèƒ½æ´—ç¨¿ç¨‹åº

ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æœ¬åœ°ç½‘é¡µåº”ç”¨ï¼Œç”¨äºåœ¨ä¿ç•™æ–‡ç« æ ¸å¿ƒä¿¡æ¯çš„å‰æä¸‹ï¼Œæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„é£æ ¼æˆ–ç«‹åœºé‡æ–°ç»„ç»‡å’Œè¡¨è¾¾æ–‡ç« ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½æ´—ç¨¿**ï¼šä¿ç•™åŸæ–‡æ ¸å¿ƒä¿¡æ¯ï¼Œæ”¹å˜è¡¨è¾¾æ–¹å¼å’Œé£æ ¼
- **å¤šè¾“å…¥æ–¹å¼**ï¼šæ”¯æŒæ–‡æœ¬ç²˜è´´ã€æ–‡ä»¶ä¸Šä¼ ã€URLæŠ“å–
- **çµæ´»æ§åˆ¶**ï¼šå¯è°ƒèŠ‚æ”¹å†™å¼ºåº¦å’ŒæŒ‡å®šé£æ ¼ç«‹åœº
- **å®æ—¶å¯¹æ¯”**ï¼šåŸæ–‡ä¸æ–°æ–‡å¯¹æ¯”ï¼Œæ˜¾ç¤ºç›¸ä¼¼åº¦

### ğŸ“ è¾“å…¥æ–¹å¼
1. **ç›´æ¥ç²˜è´´æ–‡æœ¬** - åœ¨ç½‘é¡µä¸Šç›´æ¥ç²˜è´´è¦æ”¹å†™çš„æ–‡ç« 
2. **ä¸Šä¼ æ–‡ä»¶** - æ”¯æŒ TXTã€Wordã€PDF æ ¼å¼
3. **è¾“å…¥URL** - è‡ªåŠ¨æŠ“å–ç½‘é¡µæ­£æ–‡å†…å®¹

### ğŸ¨ é£æ ¼æ§åˆ¶
- **é¢„è®¾é£æ ¼**ï¼šæ–°é—»æŠ¥é“ã€å­¦æœ¯è®ºæ–‡ã€è½»æ¾å¹½é»˜ã€æ­£å¼å•†åŠ¡ã€ç§‘æ™®æ–‡ç« 
- **è‡ªå®šä¹‰é£æ ¼**ï¼šç”¨æˆ·å¯è¾“å…¥ä»»æ„é£æ ¼è¦æ±‚
- **ç«‹åœºæ§åˆ¶**ï¼šæ”¯æŒæŒ‡å®šç‰¹å®šç«‹åœºæˆ–è§’åº¦
- **æ”¹å†™å¼ºåº¦**ï¼šä»è½»åº¦æ”¹å†™åˆ°å®Œå…¨é‡å†™

### ğŸ“Š è¾“å‡ºåŠŸèƒ½
- **åœ¨çº¿é˜…è¯»**ï¼šç½‘é¡µç«¯ç›´æ¥å±•ç¤ºç»“æœ
- **å¯¹æ¯”è§†å›¾**ï¼šåŸæ–‡ä¸æ–°æ–‡å¹¶æ’å¯¹æ¯”
- **ç›¸ä¼¼åº¦è®¡ç®—**ï¼šæ˜¾ç¤ºæ”¹å†™å‰åçš„ç›¸ä¼¼åº¦
- **å¤šæ ¼å¼å¯¼å‡º**ï¼šæ”¯æŒ TXTã€Markdown æ ¼å¼ä¸‹è½½

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edgeç­‰ï¼‰

### å®‰è£…è¿è¡Œ

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd Article-ReAngle
```

2. **é…ç½®API Keyï¼ˆæ¨èï¼‰**
```bash
# Windows PowerShellï¼ˆæ¨èï¼‰
$env:OPENAI_API_KEY="your_openai_api_key_here"

# Windows CMD
set OPENAI_API_KEY=your_openai_api_key_here

# Linux/macOS
export OPENAI_API_KEY="your_openai_api_key_here"
```

3. **ä¸€é”®å¯åŠ¨**
```bash
# Windowsç”¨æˆ·
start.bat

# æˆ–æ‰‹åŠ¨å¯åŠ¨
cd backend
pip install -r requirements.txt
python main.py
```

4. **è®¿é—®åº”ç”¨**
- æ‰“å¼€ `frontend/index.html` åœ¨æµè§ˆå™¨ä¸­
- åç«¯APIè¿è¡Œåœ¨ `http://localhost:8000`

### LLMé…ç½®

ç¨‹åºæ”¯æŒå¤šç§LLMé…ç½®æ–¹å¼ï¼Œ**æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡**ï¼š

#### æ–¹å¼1ï¼šç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨èï¼‰

**Windows PowerShell:**
```powershell
# ä¸´æ—¶è®¾ç½®ï¼ˆå½“å‰ä¼šè¯æœ‰æ•ˆï¼‰
$env:OPENAI_API_KEY="your_openai_api_key_here"

# æ°¸ä¹…è®¾ç½®ï¼ˆéœ€è¦é‡å¯ç»ˆç«¯ï¼‰
[Environment]::SetEnvironmentVariable("OPENAI_API_KEY", "your_openai_api_key_here", "User")
```

**Windows CMD:**
```cmd
# ä¸´æ—¶è®¾ç½®
set OPENAI_API_KEY=your_openai_api_key_here

# æ°¸ä¹…è®¾ç½®
setx OPENAI_API_KEY "your_openai_api_key_here"
```

**Linux/macOS:**
```bash
# ä¸´æ—¶è®¾ç½®
export OPENAI_API_KEY="your_openai_api_key_here"

# æ°¸ä¹…è®¾ç½®ï¼ˆæ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrcï¼‰
echo 'export OPENAI_API_KEY="your_openai_api_key_here"' >> ~/.bashrc
```

#### æ–¹å¼2ï¼šç•Œé¢è¾“å…¥ï¼ˆå¤‡é€‰ï¼‰
å¦‚æœæœªè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç¨‹åºä¼šåœ¨ç•Œé¢ä¸­æç¤ºè¾“å…¥API Keyã€‚

#### æ–¹å¼3ï¼šä½¿ç”¨æœ¬åœ°Ollama
```bash
# å®‰è£…Ollama
# ä¸‹è½½åœ°å€ï¼šhttps://ollama.ai/

# è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤localhost:11434ï¼‰
set OLLAMA_BASE_URL=http://localhost:11434
```

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æµç¨‹

1. **æäº¤"ç¨¿"**
   - é€‰æ‹©è¾“å…¥æ–¹å¼ï¼ˆæ–‡æœ¬/æ–‡ä»¶/URLï¼‰
   - è¾“å…¥æˆ–ä¸Šä¼ è¦æ”¹å†™çš„æ–‡ç« 

2. **è®¾ç½®"æ´—"ç¨¿å‚æ•°**
   - é€‰æ‹©æˆ–è‡ªå®šä¹‰é£æ ¼è¦æ±‚
   - è®¾ç½®ç«‹åœºè¦æ±‚ï¼ˆå¯é€‰ï¼‰
   - è°ƒèŠ‚æ”¹å†™å¼ºåº¦ï¼ˆ0.1-1.0ï¼‰

3. **è·å–ç»“æœ**
   - æŸ¥çœ‹æ”¹å†™åçš„æ–‡ç« 
   - å¯¹æ¯”åŸæ–‡ä¸æ–°æ–‡
   - æŸ¥çœ‹è¦ç‚¹æ€»ç»“
   - ä¸‹è½½ç»“æœæ–‡ä»¶

### é«˜çº§åŠŸèƒ½

- **ç›¸ä¼¼åº¦åˆ†æ**ï¼šè‡ªåŠ¨è®¡ç®—åŸæ–‡ä¸æ–°æ–‡çš„ç›¸ä¼¼åº¦
- **è¦ç‚¹æå–**ï¼šæ™ºèƒ½æ€»ç»“åŸæ–‡æ ¸å¿ƒè¦ç‚¹
- **å¤šæ ¼å¼å¯¼å‡º**ï¼šæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸‹è½½

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **FastAPI** - ç°ä»£Python Webæ¡†æ¶
- **Pydantic** - æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–
- **httpx** - å¼‚æ­¥HTTPå®¢æˆ·ç«¯
- **BeautifulSoup** - HTMLè§£æ
- **python-docx** - Wordæ–‡æ¡£å¤„ç†
- **PyPDF2** - PDFæ–‡æ¡£å¤„ç†

### å‰ç«¯æŠ€æœ¯æ ˆ
- **åŸç”ŸHTML/CSS/JavaScript** - è½»é‡çº§å‰ç«¯
- **å“åº”å¼è®¾è®¡** - æ”¯æŒå¤šè®¾å¤‡è®¿é—®
- **ç°ä»£UI** - ç®€æ´ç¾è§‚çš„ç”¨æˆ·ç•Œé¢

### LLMé›†æˆ
- **OpenAI API** - äº‘ç«¯å¤§è¯­è¨€æ¨¡å‹
- **Ollama** - æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹
- **çµæ´»é…ç½®** - æ”¯æŒå¤šç§æ¨¡å‹åˆ‡æ¢

## é¡¹ç›®ç»“æ„

```
Article-ReAngle/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ main.py             # FastAPIä¸»åº”ç”¨
â”‚   â”œâ”€â”€ extractors.py       # æ–‡æœ¬æå–æ¨¡å—
â”‚   â”œâ”€â”€ llm.py             # LLMå¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ utils.py           # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ requirements.txt    # Pythonä¾èµ–
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ styles.css         # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ app.js             # JavaScripté€»è¾‘
â”œâ”€â”€ start.bat              # Windowså¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## å¼€å‘è¯´æ˜

### æœ¬åœ°å¼€å‘

1. **åç«¯å¼€å‘**
```bash
cd backend
pip install -r requirements.txt
python main.py
```

2. **å‰ç«¯å¼€å‘**
- ç›´æ¥ç¼–è¾‘ `frontend/` ç›®å½•ä¸‹çš„æ–‡ä»¶
- ä½¿ç”¨ç°ä»£æµè§ˆå™¨æ‰“å¼€ `index.html`

### APIæ¥å£

- `GET /health` - å¥åº·æ£€æŸ¥
- `POST /process` - å¤„ç†æ–‡ç« 

### ç¯å¢ƒå˜é‡

- `OPENAI_API_KEY` - OpenAI APIå¯†é’¥
- `OLLAMA_BASE_URL` - OllamaæœåŠ¡åœ°å€ï¼ˆé»˜è®¤ï¼šhttp://localhost:11434ï¼‰

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¤„ç†å¤§æ–‡ä»¶ï¼Ÿ
A: ç¨‹åºä¼šè‡ªåŠ¨é™åˆ¶è¾“å…¥é•¿åº¦ï¼Œå»ºè®®å•æ¬¡å¤„ç†ä¸è¶…è¿‡3000å­—ç¬¦ã€‚

### Q: æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼ï¼Ÿ
A: ç›®å‰æ”¯æŒ TXTã€Word(.docx)ã€PDF æ ¼å¼ã€‚

### Q: å¦‚ä½•æé«˜æ”¹å†™è´¨é‡ï¼Ÿ
A: å¯ä»¥å°è¯•è°ƒæ•´æ”¹å†™å¼ºåº¦ï¼Œæˆ–æä¾›æ›´è¯¦ç»†çš„é£æ ¼å’Œç«‹åœºè¦æ±‚ã€‚

### Q: ç¨‹åºè¿è¡Œç¼“æ…¢æ€ä¹ˆåŠï¼Ÿ
A: å»ºè®®ä½¿ç”¨æœ¬åœ°Ollamaæ¨¡å‹ï¼Œæˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆä½¿ç”¨OpenAI APIæ—¶ï¼‰ã€‚

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

**Article ReAngle** - è®©æ–‡ç« æ”¹å†™å˜å¾—ç®€å•é«˜æ•ˆï¼

A local web app powered by LLMs that rewrites articles while preserving key information, enabling users to generate new versions with customizable style, perspective, and viewpoints.

---

## 1. Program Overview

This program is a **localhost web application** powered by **Large Language Models (LLMs)**.  
Core objectives:  

- Preserve the main information of the article  
- Adjust **style/perspective** according to user requirements  
- Generate a newly expressed version of the article  

Supported input methods: paste text / upload files / provide URL.  
Output methods: online reading, export as Word/PDF/Markdown.  

---

## 2. Input and Preprocessing

### Input Methods

1. **Paste text directly**  
2. **Upload files** (TXT / Word / PDF)  
3. **Enter article URL** (automatically extract the main body)  

### Preprocessing Logic

- **Word** â†’ Extract body paragraphs  
- **PDF** â†’ Parse text layer; if scanned, call OCR to extract text  
- **URL** â†’ Extract main content and filter ads, navigation bars, etc.  

All inputs are eventually unified into **structured plain text**, ready for model processing.  

---

## 3. Model Processing Logic

Adopts a â€œtwo-stepâ€ strategy:  

1. **Key Point Extraction**  
   - Use LLM to summarize the article, extract core information and logical framework  
   - Ensure content fidelity, complete structure, and neutral stance  

2. **Perspective Rewriting**  
   - Combine extracted key points with user prompts  
   - User prompts support:  
     - **Style control** (academic / news reporting / humorous)  
     - **Perspective control** (supporting a policy / consumerâ€™s viewpoint, etc.)  
   - Output a new article reflecting the chosen perspective  

---

## 4. Output and Display

### Display Options

- Direct reading on the web page  
- **Comparison view** between original and rewritten article (with similarity calculation)  

### Export Formats

- Word  
- PDF  
- Markdown / HTML  

---

## 5. User Interface and Interaction

- **Homepage functions**: paste text / upload file / enter URL  
- **Prompt input**: freeform entry & preset templates (academic, news, humorous, etc.)  
- **Rewrite intensity adjustment**: from light editing â†’ full rewrite  
- **User experience**: progress display after submission â†’ result page â†’ read / compare / download  

---

## 6. Extended Features and Future Plans

- **API interface**: support for external system integration  
- **Logs & optimization**: keep processing logs (de-identified), useful for debugging and improvement  
- **Risk alerts**: notify users of compliance when dealing with sensitive or controversial topics  
- **Future plans**: expand into plugins (Word plugin, browser extension)  

---

## License

[MIT](LICENSE)
